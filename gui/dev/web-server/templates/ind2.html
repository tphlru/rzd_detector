<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Improved Interface</title>
    <script src="https://cdn.jsdelivr.net/npm/tailwindcss/lib/index.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="package/styles_mobile.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js/dist/chart.umd.min.js"></script>
</head>
<body class="bg-gray-300 font-sans">
    <div class="container mx-auto p-4">
        <header class="mb-8">
            <h1 class="text-3xl font-bold text-center text-gray-800">Система анализа</h1>
        </header>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div id="videoPanel" class="bg-white rounded-lg shadow-md p-6">
                <h2 class="text-xl font-semibold mb-4">Видео</h2>
                <div class="aspect-w-16 aspect-h-9">
                    <video controls class="rounded-lg w-full">
                        <source src="path_to_your_video.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>
            </div>

            <div id="managementConsole" class="bg-white rounded-lg shadow-md p-6">
            <h2 class="text-xl font-semibold mb-4">Панель управления</h2>
            <div class="space-y-4">
                <!-- Updated button layout for responsiveness and proper spacing -->
                <div class="flex flex-wrap gap-2 sm:gap-4">
                    <button id="nextBtn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded w-full sm:w-auto">Следующий</button>
                    <button id="restartBtn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded w-full sm:w-auto">Начать заново</button>
                    <button id="stopBtn" class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded w-full sm:w-auto">Остановить</button>
                    <button id="detailsBtn" class="bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded w-full sm:w-auto">Показать подробную информацию</button>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700">Устройство</label>
                    <select id="deviceSelect" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        <option>Устройство 1</option>
                        <option>Устройство 2</option>
                        <option>Неизвестное устройство</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700">Камера</label>
                    <select id="cameraSelect" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        <option>Стандартная камера</option>
                        <option>Встроенная камера</option>
                        <option>Неизвестное устройство</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700">Микрофон</label>
                    <select id="microphoneSelect" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        <option>2- High Definition Audio Device</option>
                        <option>Microfone</option>
                        <option>Неизвестное устройство</option>
                    </select>
                </div>
            </div>
        </div>

        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-8">
            <div class="bg-white rounded-lg shadow-md p-6">
            <h2 class="text-xl font-semibold mb-4">Input Data</h2>

            <!-- First Nested Panel (No Title) -->
            <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Gender</label>
                        <select id="genderSelect" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                            <option>Select...</option>
                            <option>Male</option>
                            <option>Female</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Age</label>
                        <input id="ageInput" type="number" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Place of Departure/Arrival</label>
                        <div class="flex mt-1">
                            <input id="departureInput" type="text" class="block w-full rounded-l-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                            <span class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm">/</span>
                            <input id="arrivalInput" type="text" class="block w-full rounded-r-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Second Nested Panel (With Title) -->
            <div class="bg-white rounded-lg shadow-md p-6">
                <h3 class="text-lg font-semibold mb-4">Social Interaction</h3>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Subjective Rating</label>
                        <div class="mt-2 flex items-center space-x-4">
                            <label class="inline-flex items-center">
                                <input type="radio" class="form-radio" name="rating" value="-2">
                                <span class="ml-2">-2</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" class="form-radio" name="rating" value="-1">
                                <span class="ml-2">-1</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" class="form-radio" name="rating" value="0">
                                <span class="ml-2">0</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" class="form-radio" name="rating" value="1">
                                <span class="ml-2">+1</span>
                            </label>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">First Question</label>
                        <input type="text" id="question1" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Second Question</label>
                        <div class="mt-2 flex items-center space-x-4">
                            <label class="inline-flex items-center">
                                <input type="checkbox" class="form-checkbox" name="question2" value="1">
                                <span class="ml-2">1</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="checkbox" class="form-checkbox" name="question2" value="2">
                                <span class="ml-2">2</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="checkbox" class="form-checkbox" name="question2" value="3">
                                <span class="ml-2">3</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="checkbox" class="form-checkbox" name="question2" value="4">
                                <span class="ml-2">4</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

            <div id="criteriaTable" class="bg-white rounded-lg shadow-md p-6">
                <h2 class="text-xl font-semibold mb-4">Критерии</h2>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Критерии</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Подуровни</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Баллы</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Общий балл</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200" id="criteriaTableBody">
                            <!-- Table rows will be dynamically populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="bg-white rounded-lg shadow-md p-6 mt-8">
                <h2 class="text-xl font-semibold mb-4">Графики</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mt-8">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-lg font-semibold mb-4">Пульс</h3>
                        <canvas id="pulseChart"></canvas>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-lg font-semibold mb-4">Частота дыхания</h3>
                        <canvas id="breathingChart"></canvas>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-lg font-semibold mb-4">Частота моргания</h3>
                        <canvas id="blinkingChart"></canvas>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-lg font-semibold mb-4">Эмоции</h3>
                        <canvas id="emotionsChart"></canvas>
                    </div>
                </div>
        </div>
        <footer class="mt-8 text-center text-sm text-gray-600">
            <p>Создано в рамках конкурса "Инженеры транспорта" командой Ярославля LaboRad</p>
            <p>Наш ВК - <a href="https://vk.com/laborad" target="_blank" class="text-blue-500 hover:text-blue-600">https://vk.com/laborad</a></p>
            <p>Демо-версия. alpha4</p>
        </footer>
    </div>

    <script src="package/script_mobile.js"></script>
    <script src="package/handler.js"></script>

</body>
</html>